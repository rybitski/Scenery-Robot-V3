{"ast":null,"code":"import _classCallCheck from \"/Users/josephkaraki/middleman/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/josephkaraki/middleman/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/josephkaraki/middleman/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/josephkaraki/middleman/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/josephkaraki/middleman/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/josephkaraki/middleman/client/src/App/pages/List.js\";\nimport React, { Component } from 'react';\nimport Script from 'react-load-script';\nimport Gamepad from 'react-gamepad';\n\nvar List =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(List, _Component);\n\n  // Initialize the state\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n\n    _this.sendData = function () {\n      fetch('/api/xsend', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          data: \"50,50\"\n        })\n      });\n    };\n\n    _this.getList = function () {\n      fetch('/api/getList').then(function (res) {\n        return res.json();\n      }).then(function (list) {\n        return _this.setState({\n          list: list\n        });\n      });\n    };\n\n    _this.reportOnGamepad = function () {\n      var rt;\n      var d_pad;\n      var a_button;\n      var l_bump;\n      var r_bump;\n      var gp = navigator.getGamepads()[0];\n      var html = \"\";\n      html += \"id: \" + gp.id + \"<br/>\";\n\n      for (var i = 0; i < gp.buttons.length; i++) {\n        html += \"Button \" + (i + 1) + \": \";\n        if (gp.buttons[i].pressed) html += \" pressed\";\n        html += \"<br/>\";\n      }\n\n      for (var i = 0; i < gp.axes.length; i += 2) {\n        html += \"Stick \" + (Math.ceil(i / 2) + 1) + \": \" + gp.axes[i] * 127 + \",\" + gp.axes[i + 1] * 127 + \"<br/>\";\n      }\n\n      if (gp.buttons[8].pressed) rt = 1;else rt = 0;\n      if (gp.buttons[1].pressed) a_button = 1;else a_button = 0;\n      if (gp.buttons[5].pressed) l_bump = 1;else l_bump = 0;\n      if (gp.buttons[6].pressed) r_bump = 1;else r_bump = 0;\n      if (gp.buttons[13].pressed) d_pad = 1;else if (gp.buttons[16].pressed) d_pad = 2;else if (gp.buttons[14].pressed) d_pad = 3;else if (gp.buttons[15].pressed) d_pad = 4;else d_pad = 0;\n      var out = gp.axes[2] * 127 + \",\" + gp.axes[3] * 127 + \",\" + gp.axes[1] * 127 + \",\" + rt + \",\" + d_pad + \",\" + a_button + \",\" + l_bump + \",\" + r_bump;\n      console.log(out);\n\n      _this.setState({\n        out_data: out\n      });\n    };\n\n    _this.state = {\n      out_data: \"\",\n      list: []\n    };\n    return _this;\n  } // Fetch the list on first mount\n\n\n  _createClass(List, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.sendData();\n      this.reportOnGamepad();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var list = this.state.list;\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"List of Items\"), list.length ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, list.map(function (item) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, item);\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"No List Items Found\"), this.state.out_data));\n    }\n  }]);\n\n  return List;\n}(Component);\n\nexport default List;","map":{"version":3,"sources":["/Users/josephkaraki/middleman/client/src/App/pages/List.js"],"names":["React","Component","Script","Gamepad","List","props","sendData","fetch","method","headers","body","JSON","stringify","data","getList","then","res","json","list","setState","reportOnGamepad","rt","d_pad","a_button","l_bump","r_bump","gp","navigator","getGamepads","html","id","i","buttons","length","pressed","axes","Math","ceil","out","console","log","out_data","state","map","item"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Script from 'react-load-script'\nimport Gamepad from 'react-gamepad'\n\nclass List extends Component {\n  // Initialize the state\n  constructor(props){\n    super(props);\n    this.state = {\n        out_data:\"\",\n       \n      list: []\n    }\n  }\n\n  // Fetch the list on first mount\n  componentDidMount() {\n    this.sendData();\n    this.reportOnGamepad();\n    \n  }\n  \nsendData = () =>{\n    fetch('/api/xsend', {  \n        method: 'post',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n            data : \"50,50\",\n            }),\n        }) \n};\n  \n  // Retrieves the list of items from the Express app\n  getList = () => {\n    fetch('/api/getList')\n    .then(res => res.json())\n    .then(list => this.setState({ list }))\n  }\n\n  reportOnGamepad = () => {\n    var rt;\n\tvar d_pad;\n\tvar a_button;\n\tvar l_bump;\n\tvar r_bump;\n    var gp = navigator.getGamepads()[0];\n    var html = \"\";\n        html += \"id: \"+gp.id+\"<br/>\";\n    \n    for(var i=0;i<gp.buttons.length;i++) {\n        html+= \"Button \"+(i+1)+\": \";\n        if(gp.buttons[i].pressed) html+= \" pressed\";\n        html+= \"<br/>\";\n    }\n    \n    for(var i=0;i<gp.axes.length; i+=2) {\n        html+= \"Stick \"+(Math.ceil(i/2)+1)+\": \"+gp.axes[i]*127+\",\"+gp.axes[i+1]*127+\"<br/>\";\n    }\n    if(gp.buttons[8].pressed) \n        rt= 1;\n    else\n        rt=0;\n    if(gp.buttons[1].pressed) \n        a_button= 1;\n    else\n        a_button=0;\n    if(gp.buttons[5].pressed) \n        l_bump= 1;\n    else\n        l_bump=0;\n    if(gp.buttons[6].pressed) \n        r_bump= 1;\n    else\n        r_bump=0;\n    \n    if(gp.buttons[13].pressed) \n        d_pad= 1;\n    else if(gp.buttons[16].pressed) \n        d_pad= 2;\n    else if(gp.buttons[14].pressed) \n        d_pad= 3;\n    else if(gp.buttons[15].pressed) \n        d_pad= 4;\n    else\n        d_pad=0;\n\n\n\n\n    var out =  gp.axes[2]*127+\",\"+gp.axes[3]*127+\",\"+gp.axes[1]*127+\",\"+rt+\",\"+d_pad+\",\"+a_button+\",\"+l_bump+\",\"+r_bump;\n    console.log(out);\n    this.setState({out_data: out})\n\n }\n  render() {\n    const { list } = this.state;\n\n    return (\n      <div className=\"App\">\n      \n\n        <h1>List of Items</h1>\n        {/* Check to see if any items are found*/}\n        {list.length ? (\n          <div>\n            {/* Render the list of items */}\n            {list.map((item) => {\n              return(\n                <div>\n                  {item}\n                </div>\n              );\n            })}\n          </div>\n        ) : (\n          <div>\n            <h2>No List Items Found</h2>\n            {this.state.out_data}\n          </div>\n        )\n      }\n      </div>\n    );\n  }\n  \n}\n\nexport default List;"]},"metadata":{},"sourceType":"module"}